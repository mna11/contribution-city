<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D GitHub Contribution Graph</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 10px rgba(88, 166, 255, 0.5), 0 0 20px rgba(88, 166, 255, 0.3); }
            50% { text-shadow: 0 0 20px rgba(88, 166, 255, 0.8), 0 0 30px rgba(88, 166, 255, 0.5); }
        }

        body {
            overflow: hidden;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 25%, #0d1117 50%, #161b22 75%, #0a0e27 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #c9d1d9;
            position: relative;
        }

        /* Î≥Ñ Î∞∞Í≤Ω Î†àÏù¥Ïñ¥ */
        .stars-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .container {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .title {
            margin-bottom: 30px;
            text-align: center;
            animation: float 3s ease-in-out infinite;
        }

        .title h1 {
            font-size: 42px;
            font-weight: 700;
            background: linear-gradient(135deg, #58a6ff 0%, #26a641 50%, #39d353 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            animation: glow 2s ease-in-out infinite;
            letter-spacing: 1px;
        }

        .title p {
            color: #8b949e;
            font-size: 16px;
            font-weight: 500;
        }

        .canvas-container {
            position: relative;
            border-radius: 20px;
            padding: 20px;
            background: rgba(22, 27, 34, 0.6);
            backdrop-filter: blur(10px);
            box-shadow:
                0 0 40px rgba(88, 166, 255, 0.2),
                0 0 80px rgba(38, 166, 65, 0.1),
                inset 0 0 40px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(88, 166, 255, 0.3);
        }

        canvas {
            display: block;
            cursor: grab;
            border-radius: 12px;
            filter: drop-shadow(0 0 20px rgba(38, 166, 65, 0.3));
        }

        canvas:active {
            cursor: grabbing;
        }

        .legend {
            display: flex;
            gap: 20px;
            align-items: center;
            margin-top: 25px;
            font-size: 14px;
            padding: 15px 25px;
            background: rgba(22, 27, 34, 0.8);
            border-radius: 12px;
            border: 1px solid rgba(88, 166, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            transition: transform 0.3s ease;
        }

        .legend-item:hover {
            transform: translateY(-2px);
        }

        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .legend-item:hover .legend-color {
            transform: scale(1.2);
        }

        .stats {
            display: flex;
            gap: 40px;
            margin-top: 25px;
        }

        .stat {
            text-align: center;
            padding: 20px 30px;
            background: rgba(22, 27, 34, 0.8);
            border-radius: 12px;
            border: 1px solid rgba(88, 166, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            min-width: 140px;
        }

        .stat:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(88, 166, 255, 0.3);
            border-color: rgba(88, 166, 255, 0.5);
        }

        .stat-number {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, #58a6ff 0%, #26a641 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 13px;
            color: #8b949e;
            margin-top: 8px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ÎπõÎÇòÎäî ÌååÌã∞ÌÅ¥ Ìö®Í≥º */
        .particle {
            position: fixed;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, rgba(88, 166, 255, 1) 0%, rgba(88, 166, 255, 0) 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
        }
    </style>
</head>
<body>
    <!-- Î≥Ñ Î∞∞Í≤Ω -->
    <div class="stars-background" id="starsBackground"></div>

    <!-- Î©îÏù∏ Ïª®ÌÖåÏù¥ÎÑà -->
    <div class="container">
        <div class="title">
            <h1>üå± 3D GitHub Contribution Graph</h1>
            <p>Drag to rotate ‚Ä¢ Scroll to zoom</p>
        </div>

        <div class="canvas-container">
            <canvas id="canvas"></canvas>
        </div>

        <div class="legend">
        <span>Less</span>
        <div class="legend-item">
            <div class="legend-color" style="background: #0e4429;"></div>
            <span>1-3</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #006d32;"></div>
            <span>4-6</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #26a641;"></div>
            <span>7-9</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #39d353;"></div>
            <span>10+</span>
        </div>
        <span>More</span>
    </div>

    <div class="stats">
        <div class="stat">
            <div class="stat-number" id="totalContributions">0</div>
            <div class="stat-label">Total Contributions</div>
        </div>
        <div class="stat">
            <div class="stat-number" id="longestStreak">0</div>
            <div class="stat-label">Longest Streak</div>
        </div>
        <div class="stat">
            <div class="stat-number" id="currentStreak">0</div>
            <div class="stat-label">Current Streak</div>
        </div>
    </div>
    </div>

    <script>
        // Î≥Ñ ÏÉùÏÑ±
        const starsBackground = document.getElementById('starsBackground');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            const size = Math.random() * 3 + 1;
            star.style.width = size + 'px';
            star.style.height = size + 'px';
            star.style.animationDelay = Math.random() * 3 + 's';
            star.style.animationDuration = (Math.random() * 3 + 2) + 's';
            starsBackground.appendChild(star);
        }

        // ÌååÌã∞ÌÅ¥ Ìö®Í≥º
        function createParticle(x, y) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            document.body.appendChild(particle);

            const angle = Math.random() * Math.PI * 2;
            const velocity = Math.random() * 2 + 1;
            const vx = Math.cos(angle) * velocity;
            const vy = Math.sin(angle) * velocity;
            let px = x, py = y;
            let opacity = 1;

            function animate() {
                px += vx;
                py += vy;
                opacity -= 0.02;

                particle.style.left = px + 'px';
                particle.style.top = py + 'px';
                particle.style.opacity = opacity;

                if (opacity > 0) {
                    requestAnimationFrame(animate);
                } else {
                    particle.remove();
                }
            }
            animate();
        }

        // ÎûúÎç§ ÌååÌã∞ÌÅ¥ ÏÉùÏÑ±
        setInterval(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            createParticle(x, y);
        }, 500);

        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        // Canvas ÌÅ¨Í∏∞ ÏÑ§Ï†ï
        canvas.width = 1000;
        canvas.height = 500;

        // GitHub Ïä§ÌÉÄÏùº ÏÉâÏÉÅ
        const colors = {
            0: '#161b22',
            1: '#0e4429',
            2: '#006d32',
            3: '#26a641',
            4: '#39d353'
        };

        // 52Ï£º x 7Ïùº = 1ÎÖÑÏπò ÏûîÎîî Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±
        const weeks = 52;
        const days = 7;
        const contributions = [];

        for (let week = 0; week < weeks; week++) {
            contributions[week] = [];
            for (let day = 0; day < days; day++) {
                // ÎûúÎç§ Í∏∞Ïó¨ÎèÑ ÏÉùÏÑ± (Ïã§Ï†ú GitHub Îç∞Ïù¥ÌÑ∞Ï≤òÎüº)
                const value = Math.random() > 0.3 ? Math.floor(Math.random() * 15) : 0;
                contributions[week][day] = value;
            }
        }

        // ÌÜµÍ≥Ñ Í≥ÑÏÇ∞
        let totalContributions = 0;
        let currentStreak = 0;
        let longestStreak = 0;
        let tempStreak = 0;

        contributions.flat().forEach(value => {
            totalContributions += value;
            if (value > 0) {
                tempStreak++;
                longestStreak = Math.max(longestStreak, tempStreak);
            } else {
                tempStreak = 0;
            }
        });

        currentStreak = tempStreak;

        // ÌÜµÍ≥Ñ Ïï†ÎãàÎ©îÏù¥ÏÖò
        function animateNumber(id, target) {
            const element = document.getElementById(id);
            let current = 0;
            const increment = target / 60;
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    element.textContent = target;
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(current);
                }
            }, 20);
        }

        animateNumber('totalContributions', totalContributions);
        animateNumber('longestStreak', longestStreak);
        animateNumber('currentStreak', currentStreak);

        // 3D Î†åÎçîÎßÅ ÏÑ§Ï†ï
        let rotationX = 0.6;
        let rotationY = -0.3;
        let zoom = 1;
        let isDragging = false;
        let lastMouseX = 0;
        let lastMouseY = 0;

        const blockSize = 12;
        const gap = 2;
        const maxHeight = 60;

        function getColor(value) {
            if (value === 0) return colors[0];
            if (value <= 3) return colors[1];
            if (value <= 6) return colors[2];
            if (value <= 9) return colors[3];
            return colors[4];
        }

        function project3D(x, y, z) {
            // ÌöåÏ†Ñ Ï†ÅÏö©
            const cosX = Math.cos(rotationX);
            const sinX = Math.sin(rotationX);
            const cosY = Math.cos(rotationY);
            const sinY = Math.sin(rotationY);

            // YÏ∂ï ÌöåÏ†Ñ
            let x1 = x * cosY - z * sinY;
            let z1 = x * sinY + z * cosY;

            // XÏ∂ï ÌöåÏ†Ñ
            let y1 = y * cosX - z1 * sinX;
            let z2 = y * sinX + z1 * cosX;

            // ÏõêÍ∑º Ìà¨ÏòÅ
            const perspective = 800;
            const scale = perspective / (perspective + z2);

            return {
                x: canvas.width / 2 + x1 * scale * zoom,
                y: canvas.height / 2 + y1 * scale * zoom,
                scale: scale
            };
        }

        function drawBlock(x, y, z, width, height, depth, color, scale) {
            // Î∏îÎ°ùÏùò 8Í∞ú Íº≠ÏßÄÏ†ê Ï†ïÏùò
            const vertices = [
                { x: x, y: y, z: z },                           // 0: ÌïòÎã® Ïïû Ï¢å
                { x: x + width, y: y, z: z },                   // 1: ÌïòÎã® Ïïû Ïö∞
                { x: x + width, y: y - height, z: z },          // 2: ÏÉÅÎã® Ïïû Ïö∞
                { x: x, y: y - height, z: z },                  // 3: ÏÉÅÎã® Ïïû Ï¢å
                { x: x, y: y, z: z + depth },                   // 4: ÌïòÎã® Îí§ Ï¢å
                { x: x + width, y: y, z: z + depth },           // 5: ÌïòÎã® Îí§ Ïö∞
                { x: x + width, y: y - height, z: z + depth },  // 6: ÏÉÅÎã® Îí§ Ïö∞
                { x: x, y: y - height, z: z + depth }           // 7: ÏÉÅÎã® Îí§ Ï¢å
            ];

            const projected = vertices.map(v => project3D(v.x, v.y, v.z));

            // ÏÉâÏÉÅ Ï°∞Ï†ï Ìï®Ïàò (Ïñ¥Îë°Í≤å/Î∞ùÍ≤å)
            const adjustColor = (hex, percent) => {
                const num = parseInt(hex.slice(1), 16);
                const amt = Math.round(2.55 * percent);
                const R = Math.max(0, Math.min(255, (num >> 16) + amt));
                const G = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + amt));
                const B = Math.max(0, Math.min(255, (num & 0x0000FF) + amt));
                return `rgb(${R},${G},${B})`;
            };

            // ÏÉÅÎã® Î©¥ (Í∞ÄÏû• Î∞ùÍ≤å)
            ctx.fillStyle = adjustColor(color, 40);
            ctx.beginPath();
            ctx.moveTo(projected[3].x, projected[3].y);
            ctx.lineTo(projected[2].x, projected[2].y);
            ctx.lineTo(projected[6].x, projected[6].y);
            ctx.lineTo(projected[7].x, projected[7].y);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.lineWidth = 1;
            ctx.stroke();

            // Ï¢åÏ∏° Î©¥ (Ïñ¥Îë°Í≤å)
            ctx.fillStyle = adjustColor(color, -20);
            ctx.beginPath();
            ctx.moveTo(projected[0].x, projected[0].y);
            ctx.lineTo(projected[3].x, projected[3].y);
            ctx.lineTo(projected[7].x, projected[7].y);
            ctx.lineTo(projected[4].x, projected[4].y);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.stroke();

            // Ïö∞Ï∏° Î©¥ (Ï§ëÍ∞Ñ Î∞ùÍ∏∞)
            ctx.fillStyle = adjustColor(color, 0);
            ctx.beginPath();
            ctx.moveTo(projected[1].x, projected[1].y);
            ctx.lineTo(projected[5].x, projected[5].y);
            ctx.lineTo(projected[6].x, projected[6].y);
            ctx.lineTo(projected[2].x, projected[2].y);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.stroke();

            // Ï†ÑÎ©¥ (Ï§ëÍ∞Ñ Ïñ¥ÎëêÏö¥)
            ctx.fillStyle = adjustColor(color, -10);
            ctx.beginPath();
            ctx.moveTo(projected[0].x, projected[0].y);
            ctx.lineTo(projected[1].x, projected[1].y);
            ctx.lineTo(projected[2].x, projected[2].y);
            ctx.lineTo(projected[3].x, projected[3].y);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.stroke();
        }

        function render() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Z-sortingÏùÑ ÏúÑÌïú Î∏îÎ°ù Î∞∞Ïó¥
            const blocks = [];

            for (let week = 0; week < weeks; week++) {
                for (let day = 0; day < days; day++) {
                    const value = contributions[week][day];
                    const x = (week - weeks / 2) * (blockSize + gap);
                    const z = (day - days / 2) * (blockSize + gap);
                    const height = Math.max(3, (value / 15) * maxHeight);
                    const color = getColor(value);

                    blocks.push({ x, z, height, color, value });
                }
            }

            // Z-sorting (Îí§ÏóêÏÑú ÏïûÏúºÎ°ú Í∑∏Î¶¨Í∏∞)
            blocks.sort((a, b) => {
                // Ïπ¥Î©îÎùºÎ°úÎ∂ÄÌÑ∞Ïùò Í±∞Î¶¨ Í≥ÑÏÇ∞ (ÌöåÏ†Ñ Í≥†Î†§)
                const distA = a.x * Math.sin(rotationY) + a.z * Math.cos(rotationY);
                const distB = b.x * Math.sin(rotationY) + b.z * Math.cos(rotationY);
                return distB - distA; // Î®º Í≤ÉÎ∂ÄÌÑ∞ Í∑∏Î¶¨Í∏∞ (Îí§ -> Ïïû)
            });

            // Î∏îÎ°ù Î†åÎçîÎßÅ
            blocks.forEach(block => {
                drawBlock(
                    block.x,
                    0,
                    block.z,
                    blockSize,
                    block.height,
                    blockSize,
                    block.color,
                    1
                );
            });
        }

        // ÎßàÏö∞Ïä§ Ïù¥Î≤§Ìä∏
        canvas.addEventListener('mousedown', (e) => {
            isDragging = true;
            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
        });

        canvas.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const deltaX = e.clientX - lastMouseX;
                const deltaY = e.clientY - lastMouseY;

                rotationY += deltaX * 0.005;
                rotationX += deltaY * 0.005;

                // ÌöåÏ†Ñ Ï†úÌïú
                rotationX = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, rotationX));

                lastMouseX = e.clientX;
                lastMouseY = e.clientY;

                render();
            }
        });

        canvas.addEventListener('mouseup', () => {
            isDragging = false;
        });

        canvas.addEventListener('mouseleave', () => {
            isDragging = false;
        });

        // Ìú† Ïù¥Î≤§Ìä∏ (Ï§å)
        canvas.addEventListener('wheel', (e) => {
            e.preventDefault();
            zoom += e.deltaY * -0.001;
            zoom = Math.max(0.5, Math.min(2, zoom));
            render();
        });

        // ÏûêÎèô ÌöåÏ†Ñ Ïï†ÎãàÎ©îÏù¥ÏÖò
        let autoRotate = true;
        function animate() {
            if (autoRotate && !isDragging) {
                rotationY += 0.005;
                render();
            }
            requestAnimationFrame(animate);
        }

        // ÎìúÎûòÍ∑∏ Ïãú ÏûêÎèô ÌöåÏ†Ñ Ï§ëÏßÄ
        canvas.addEventListener('mousedown', () => autoRotate = false);

        // Ï¥àÍ∏∞ Î†åÎçîÎßÅ
        render();
        animate();
    </script>
</body>
</html>
